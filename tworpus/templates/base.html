<!DOCTYPE html>
<html ng-app="tworpusApp">

    <head>
        {% load staticfiles %}
        <link rel="stylesheet" href="{% static 'bower_components/bootstrap/dist/css/bootstrap.css' %}" />
        <link rel="stylesheet" href="{% static 'components/select2-3.4.5/select2.css' %}" />
        <link rel="stylesheet" href="{% static 'components/select2-bootstrap.css' %}" />
        <link rel="stylesheet" href="{% static 'components/datepicker/css/datepicker.css' %}" />
        <link rel="stylesheet" href="{% static 'components/pnotify-1.2.0/jquery.pnotify.default.css' %}" />
        <link rel="stylesheet" href="{% static 'components/pnotify-1.2.0/use for pines style icons/jquery.pnotify.default.icons.css' %}" />
        <link rel="stylesheet" href="{% static 'bower_components/angular-ui/build/angular-ui.css' %}" />

        <title></title>

        <style>
            #corpus-creation-progress {
                position: fixed;
                width: 100%;
                bottom: 0px;
                height: 50px;
                margin-bottom: 0;
                z-index: 1000;
                min-height: 0;
                padding: 0;

                -webkit-transition: height 1s ease-out;
                -moz-transition: height 1s;
                -ms-transition: height 1s;
                -o-transition: height 1s;
                transition: height 1s ease-out;
            }
            #corpus-creation-progress.expanded {
                height: 200px;
            }
        </style>

    </head>


<body style="">
    <div id="sid" class="hidden" data-sessionid="{{ sid }}">{{ sid }}</div>
    {% block body %}

    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">{% block project_title %}TWORPUS{% endblock project_title %}</a>
            </div>

            <!-- Navbar top -->
            <div class="navbar-collapse collapse">
                {% block navbar_top %}
                    {% include "includes/navbar_top.html" %}
                {% endblock navbar_top %}
            </div>

        </div>
    </div>

    <div class="container-fluid">
        <div class="row">

            <!-- Nav sidebar -->
            <div class="col-sm-3 col-md-2 sidebar">
                {% block nav_sidebar %}
                    {% include "includes/sidebar_nav.html" %}
                {% endblock nav_sidebar %}
            </div>
            <!-- Nav sidebar end -->

            <!-- Main content -->
            <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">

                {% block content %}{% endblock content %}
                <div ng-view></div>
{#                {% include "includes/progressbar.html" %}#}
            </div>
            <!-- Main content end -->
        </div>
    </div>

    {% include "includes/modal.html" %}


        <div ng-controller="ProgressController">
            <div id="corpus-creation-progress" tw-corpus-progress tw-progresses=""
                 ng-class="showProgressbar ? 'expanded' : ''" class="well">
            </div>
        </div>

    {% endblock body %}

    {% block javascripts %}
        <script src="{% static 'bower_components/jquery/dist/jquery.min.js' %}"></script>
        <script src="http://localhost:3000/socket.io/socket.io.js"></script>
        <script src="{% static 'bower_components/bootstrap/dist/js/bootstrap.min.js' %}"></script>


{#        http://www.eyecon.ro/bootstrap-datepicker/#}
        <script src="{% static 'components/datepicker/js/bootstrap-datepicker.js' %}"></script>
        <script src="{% static 'components/select2-3.4.5/select2.min.js' %}"></script>
        <script src="{% static 'components/select2-3.4.5/select2_locale_de.js' %}"></script>
        <script src="{% static 'components/pnotify-1.2.0/jquery.pnotify.min.js' %}"></script>
        <script src="{% static 'components/slider/js/bootstrap-slider.js' %}"></script>

        <!-- Angular -->
{#        <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.12/angular.min.js"></script>#}

        <script src="{% static 'bower_components/angular/angular.js' %}"></script>
        <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.12/angular-route.js"></script>
        <script src="{% static 'bower_components/angular-ui/build/angular-ui.js' %}"></script>
        <script src="{% static 'bower_components/angular-ui/build/angular-ui-ieshiv.js' %}"></script>
        <script src="{% static 'bower_components/angular-bootstrap/ui-bootstrap.js' %}"></script>
        <script src="http://code.angularjs.org/1.0.8/i18n/angular-locale_de-de.js"></script>
        <script src="{% static 'bower_components/angular-bootstrap/ui-bootstrap-tpls.js' %}"></script>
        <script src="{% static 'bower_components/angular-ui-select2/src/select2.js' %}"></script>

        <script>
            // Init angular app
            var tworpusApp = angular.module('tworpusApp', [
                'ngRoute',
                'ui',
                'ui.bootstrap',
                'ui.select2'
            ]);

            tworpusApp.constant('socketId', "{{ sid }}");
            tworpusApp.constant('urls', {
                'statusUrl': "{% url 'session.views.checkCorpusCreationProgress' %}"
            });
        </script>

        <script src="{% static 'js/TworpusApp.js' %}"></script>
        <script src="{% static 'js/Progressbar.js' %}"></script>

    {% endblock javascripts %}

</body>
</html>